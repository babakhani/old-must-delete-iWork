<control iv-redirecturl="" iv-title="Form Title">
    <div class="form-container" ng-controller="$iv-controller" onsubmit="return false;">
        <h3 class="panel-title">$iv-title</h3>
        <form name="$iv-name" class="form-horizontal">
            <iv-content>
            </iv-content>
            <div class="alert alert-dismissable alert-danger" ng-show="isFormSubmitted && !result.HasError">
                {{result.Message}}
            </div>
            <div class="alert alert-dismissable alert-success" ng-show="isFormSubmitted && result.HasError">
                {{result.Message}}
            </div>
            <result>
            </result>
        </form>
    </div>
    <script>
        function $iv-controller($scope, $location, $window, $http) {
            $scope.isFormSubmitted = false;
            $scope.formsubmit = function () {
                $http.post(rootControllerUrl + "$iv-controller/$iv-action", $scope.$iv-model).
                success(function (responseData, status, headers, config) {
                    $scope.isFormSubmitted = true;
                    $scope.result = responseData;
                    if (responseData.HasError)
                    {
                        //$scope.showError = true;
                        //$scope.error = responseData.Error;
                    }
                    else
                    {
                        //$scope.showError = false;
                        if ("$iv-redirecturl" != ""){
                            $window.location = "$iv-redirecturl";
                        }
                    }
                }).
                error(function (responseData, status, headers, config) {
                    $scope.isFormSubmitted = true;
                    $scope.result = responseData;
                    $scope.error = responseData.Error;
                });
            };
        }
    </script>
</control>